<html>
	<head>
		<link rel="stylesheet" href="/styles/main.css" />

		<script src="/node_modules/angular/angular.js"></script>
		<script src="/lib/component.js"></script>
		<script src="/lib/tree-grid.js"></script>
		<script src="/lib/search.js"></script>
	</head>
	<body ng-app="demo">
		<div ng-controller="defaultCtl">

			<search-Box title="searchModel.title" 
						input-text="searchModel.text" 
						on-search-clicked="onSearchClicked()" 
						button-model="searchModel.button"></search-box>

			<tree-grid data="dataModel" 
						columns="columnModel" 
						max-page-count="pageCount"
						current-page="currentPage"
						on-page-change="pageChanged()"
						on-selected="selected(row)"></tree-grid>
						
			selected name: {{ selectedItem.name }} <br/>
			selected name: {{ selectedItem.isChild }} <br/>
			page is : {{currentPageIs }}
		</div>
		
	</body>

	<script>
		(function(angular){
			var m = angular.module("demo", ["components"]);
			m.controller("defaultCtl", ["$scope", function($scope){

				$scope.onSearchClicked = function(){
					alert($scope.searchModel.text);
				};

				$scope.searchModel = {
					'title': "oo search!",
					'button': {
						'label' : 'Click Me!'
					}
				};

				$scope.columnModel = {
						"columnType" : "checkbox",
						"nameField" : "name"
				};

				$scope.selected = function(row){
					$scope.selectedItem = row;
				};

				$scope.pageCount = 4;

				$scope.pageChanged = function(){
					$scope.currentPageIs = $scope.currentPage + 1;
				};


				$scope.dataModel = [
					{"name": "Subscription1", "type":"subscription", "childs" : [
							{"name": "Value 1", "value": 1,"type":"service"}, 
							{"name": "Value 2", "value": 2,"type":"service"}, 
							{"name": "Value 3", "value": 3,"type":"service"}
					]},
					{"name": "Subscription2", "type":"subscription", "childs" : [
							{"name": "Value 1", "value": 1,"type":"service"}, 
							{"name": "Value 2", "value": 2,"type":"service"}, 
							{"name": "Value 3", "value": 3,"type":"service"}
					]}
				];
			}]);
		})(angular);
	</script>
</html>